<!DOCTYPE html>
<html>
<head>
    <title>–ü–æ–¥–∞—Ä–∫–∏</title>
    <script src="https://telegram.org/js/telegram-webapp.js"></script> 
</head>
<body>
    <h1>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∞—Ä–æ–∫</h1>
    <button onclick="sendGift('teddy_bear')">üß∏ –ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫</button>
    <button onclick="sendGift('flower')">üå∏ –¶–≤–µ—Ç–æ–∫</button>
    <button onclick="sendGift('cake')">üç∞ –¢–æ—Ä—Ç</button>

    <script>
        Telegram.WebApp.ready();

        function sendGift(giftType) {
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user_id');

            if (!userId) {
                alert("–ù–µ –Ω–∞–π–¥–µ–Ω ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è");
                return;
            }

            fetch(`https://yourdomain.com/api/send_gift?user_id=${userId}&gift=${giftType}`)
                .then(res => res.json())
                .then(data => {
                    alert("–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!");
                    Telegram.WebApp.close();
                })
                .catch(err => {
                    alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥–∞—Ä–∫–∞.");
                    console.error(err);
                });
        }
    </script>
</body>
</html>